<form #searchForm="ngForm" class="container">
  <div class="row">
    <div class="col-9">
      <input
        type="text"
        placeholder="Start..."
        [(ngModel)]="start"
        id="start"
        name="start"
        class="form-control control"
        list="startDatalist"
        (keyup)="trottleAutocomplete(start, 'start', 0, 300)"
      />
      <datalist id="startDatalist" *ngFor="let result of resultsForStart">
        <option [value]="result.name">
          {{ result.name }}
        </option>
      </datalist>
    </div>
    <div class="col"></div>
  </div>
  <div
    class="row"
    *ngFor="let stop of stops; let i = index; trackBy: customTrackBy"
  >
    <div class="col-9">
      <input
        type="text"
        [ngModelOptions]="{ standalone: true }"
        placeholder="Stop..."
        [(ngModel)]="stops[i]"
        class="form-control control"
        [attr.list]="'stopDataList' + i"
        (keyup)="trottleAutocomplete(stop, 'stop', i, 300)"
      />
      <datalist
        [attr.id]="'stopDataList' + i"
        *ngFor="let result of resultsForStops[i]"
      >
        <option [value]="result.name">
          {{ result.name }}
        </option>
      </datalist>
    </div>
    <div class="col">
      <button class="btn plus-button" (click)="removeStop(i)">
        <i class="fa fa-solid fa-minus"></i>
      </button>
    </div>
  </div>

  <div class="row">
    <div class="col-9">
      <input
        type="text"
        placeholder="Destination..."
        [(ngModel)]="destination"
        id="destination"
        name="destination"
        class="form-control control"
        list="destinationDatalist"
        (keyup)="trottleAutocomplete(destination, 'destination', 0, 300)"
      />
      <datalist
        id="destinationDatalist"
        *ngFor="let result of resultsForDestination"
      >
        <option [value]="result.name">
          {{ result.name }}
        </option>
      </datalist>
    </div>
    <div class="col">
      <button class="btn plus-button" (click)="addStop()">
        <i class="fa fa-solid fa-plus"></i>
      </button>
    </div>
  </div>

  <button id="calculateButton" class="btn btn-dark button" (click)="showResults()">Calculate</button>
</form>
